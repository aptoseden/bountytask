{"ast":null,"code":"var _jsxFileName = \"/Users/yk/movedev/movedemo/bountytask/bounty-task-app/src/TaskList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-modal';\nimport Web3 from 'web3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskList = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [newStatus, setNewStatus] = useState('');\n  const [comment, setComment] = useState('');\n  let [currentPage, setcurrentPage] = useState('1');\n\n  // 发布任务 弹出框\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isStatusModalOpen, setIsStatusModalOpen] = useState(false);\n  const [taskName, setTaskName] = useState('');\n  const [taskReward, setTaskReward] = useState('');\n\n  // Connect to Metamask\n  async function connectToMetamask() {\n    if (window.ethereum) {\n      await window.ethereum.enable();\n      const provider = new Web3(window.ethereum);\n      //const provider = await detectEthereumProvider();\n      return provider;\n    } else {\n      console.log('Please install Metamask');\n    }\n  }\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n  const handleOpenStatusModal = () => {\n    setIsStatusModalOpen(true);\n  };\n  const handleCloseStatusModal = () => {\n    setIsStatusModalOpen(false);\n  };\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      currentPage = currentPage - 1;\n    }\n    setcurrentPage(currentPage);\n  };\n  const handleNext = () => {\n    currentPage = currentPage + 1;\n    setcurrentPage(currentPage);\n  };\n  const contractAddress = '0xE51Bd74150E43E390b24D9d461B7b6c0d3707701';\n  const contractAbi = [{\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_index\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"commit\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_index\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"string\",\n      \"name\": \"_comment\",\n      \"type\": \"string\"\n    }, {\n      \"internalType\": \"uint8\",\n      \"name\": \"_status\",\n      \"type\": \"uint8\"\n    }],\n    \"name\": \"confirm\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"string\",\n      \"name\": \"_desc\",\n      \"type\": \"string\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"_bonus\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"issue\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"register\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_index\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"take\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"_token\",\n      \"type\": \"address\"\n    }],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"_issuer\",\n      \"type\": \"address\"\n    }, {\n      \"indexed\": false,\n      \"internalType\": \"uint256\",\n      \"name\": \"_bonus\",\n      \"type\": \"uint256\"\n    }, {\n      \"indexed\": false,\n      \"internalType\": \"string\",\n      \"name\": \"_desc\",\n      \"type\": \"string\"\n    }],\n    \"name\": \"TaskIssue\",\n    \"type\": \"event\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"getAllTasks\",\n    \"outputs\": [{\n      \"components\": [{\n        \"internalType\": \"address\",\n        \"name\": \"issuer\",\n        \"type\": \"address\"\n      }, {\n        \"internalType\": \"address\",\n        \"name\": \"worker\",\n        \"type\": \"address\"\n      }, {\n        \"internalType\": \"string\",\n        \"name\": \"desc\",\n        \"type\": \"string\"\n      }, {\n        \"internalType\": \"uint256\",\n        \"name\": \"bonus\",\n        \"type\": \"uint256\"\n      }, {\n        \"internalType\": \"uint8\",\n        \"name\": \"status\",\n        \"type\": \"uint8\"\n      }, {\n        \"internalType\": \"string\",\n        \"name\": \"comment\",\n        \"type\": \"string\"\n      }, {\n        \"internalType\": \"uint256\",\n        \"name\": \"timestamp\",\n        \"type\": \"uint256\"\n      }],\n      \"internalType\": \"struct TaskInfo[]\",\n      \"name\": \"\",\n      \"type\": \"tuple[]\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_index\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"getOneTask\",\n    \"outputs\": [{\n      \"components\": [{\n        \"internalType\": \"address\",\n        \"name\": \"issuer\",\n        \"type\": \"address\"\n      }, {\n        \"internalType\": \"address\",\n        \"name\": \"worker\",\n        \"type\": \"address\"\n      }, {\n        \"internalType\": \"string\",\n        \"name\": \"desc\",\n        \"type\": \"string\"\n      }, {\n        \"internalType\": \"uint256\",\n        \"name\": \"bonus\",\n        \"type\": \"uint256\"\n      }, {\n        \"internalType\": \"uint8\",\n        \"name\": \"status\",\n        \"type\": \"uint8\"\n      }, {\n        \"internalType\": \"string\",\n        \"name\": \"comment\",\n        \"type\": \"string\"\n      }, {\n        \"internalType\": \"uint256\",\n        \"name\": \"timestamp\",\n        \"type\": \"uint256\"\n      }],\n      \"internalType\": \"struct TaskInfo\",\n      \"name\": \"\",\n      \"type\": \"tuple\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_page\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"getTasksByPage\",\n    \"outputs\": [{\n      \"components\": [{\n        \"internalType\": \"address\",\n        \"name\": \"issuer\",\n        \"type\": \"address\"\n      }, {\n        \"internalType\": \"address\",\n        \"name\": \"worker\",\n        \"type\": \"address\"\n      }, {\n        \"internalType\": \"string\",\n        \"name\": \"desc\",\n        \"type\": \"string\"\n      }, {\n        \"internalType\": \"uint256\",\n        \"name\": \"bonus\",\n        \"type\": \"uint256\"\n      }, {\n        \"internalType\": \"uint8\",\n        \"name\": \"status\",\n        \"type\": \"uint8\"\n      }, {\n        \"internalType\": \"string\",\n        \"name\": \"comment\",\n        \"type\": \"string\"\n      }, {\n        \"internalType\": \"uint256\",\n        \"name\": \"timestamp\",\n        \"type\": \"uint256\"\n      }],\n      \"internalType\": \"struct TaskInfo[]\",\n      \"name\": \"\",\n      \"type\": \"tuple[]\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"token\",\n    \"outputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }];\n  const handleTaskSubmit = async e => {\n    e.preventDefault();\n    // 处理任务提交逻辑\n    try {\n      // Connect to Metamask\n      const provider = await connectToMetamask();\n      const account = await provider.eth.getAccounts();\n      const accountAddress = account[0];\n      console.log(accountAddress);\n      // Create a contract instance\n      const contract = new provider.eth.Contract(contractAbi, contractAddress);\n      console.log(\"name:\", taskName, \",bonus:\", taskReward);\n\n      // Call the \"setGreeting\" function in the contract\n      await contract.methods.issue(taskName, taskReward).send({\n        from: accountAddress\n      });\n      //tx.wait();\n      // 刷新任务列表\n      loadTasks();\n      // 关闭弹出框\n      //setSelectedTask(null);\n      //setNewStatus('');\n    } catch (error) {\n      console.error('Failed to update status:', error);\n    }\n    // 关闭弹出框\n    handleCloseModal();\n    setTaskName(\"\");\n    setTaskReward(\"\");\n  };\n  useEffect(() => {\n    loadTasks();\n  });\n  const getStatus = s => {\n    if (s === \"0\") {\n      return \"已发布\";\n    } else if (s === \"1\") {\n      return \"已接受\";\n    } else if (s === \"2\") {\n      return \"已提交\";\n    } else if (s === \"3\") {\n      return \"已完成\";\n    }\n    return \"未知状态\";\n  };\n  const loadTasks = async () => {\n    // Connect to Metamask\n    const provider = await connectToMetamask();\n    //const account = await provider.eth.getAccounts();\n    //  const accountAddress = account[0];\n    console.log(\"page:\", currentPage);\n    // Create a contract instance\n    const contract = new provider.eth.Contract(contractAbi, contractAddress);\n    // 获取任务数量\n    const taskss = await contract.methods.getAllTasks().call();\n\n    // 获取每个任务的详细信息\n    const tasks = [];\n    for (let i = 0; i < taskss.length; i++) {\n      let task = {};\n      const current = taskss[i];\n      task.id = i;\n      task.issuer = current.issuer;\n      task.hunter = current.worker;\n      task.reward = current.bonus;\n      task.name = current.desc;\n      task.status = current.status;\n      task.comment = current.comment;\n      task.timestamp = formatTimestamp(Number(current.timestamp.toString()) * 1000);\n      //console.log(\"task:\", i, task);\n      tasks.push(task);\n    }\n    // 更新任务列表\n    setTasks(tasks);\n  };\n  const handleUpdateStatus = async e => {\n    e.preventDefault();\n    try {\n      // Connect to Metamask\n      const provider = await connectToMetamask();\n      const account = await provider.eth.getAccounts();\n      const accountAddress = account[0];\n      // Create a contract instance\n      const contract = new provider.eth.Contract(contractAbi, contractAddress);\n      console.log(\"get:\", newStatus);\n      if (newStatus === \"1\") {\n        await contract.methods.take(selectedTask).send({\n          from: accountAddress\n        });\n      } else if (newStatus === \"2\") {\n        await contract.methods.commit(selectedTask).send({\n          from: accountAddress\n        });\n      } else if (newStatus === \"3\") {\n        await contract.methods.confirm(selectedTask, comment, 3).send({\n          from: accountAddress\n        });\n      } else if (newStatus === \"4\") {\n        await contract.methods.confirm(selectedTask, comment, 4).send({\n          from: accountAddress\n        });\n      }\n    } catch (error) {\n      console.error('Failed to update status:', error);\n    }\n    handleCloseStatusModal();\n  };\n  const buttonStyle = {\n    backgroundColor: 'blue',\n    // 设置背景颜色\n    color: 'white',\n    // 设置文字颜色\n    padding: '10px 20px',\n    // 设置内边距\n    border: 'none',\n    // 移除边框\n    fontSize: '16px',\n    // 设置文字大小\n    cursor: 'pointer' // 设置鼠标样式为手型\n  };\n\n  const buttonStatusStyle = {\n    backgroundColor: 'orange',\n    // 设置背景颜色\n    color: 'white',\n    // 设置文字颜色\n    padding: '10px 20px',\n    // 设置内边距\n    border: 'none',\n    // 移除边框\n    fontSize: '16px',\n    // 设置文字大小\n    cursor: 'pointer' // 设置鼠标样式为手型\n  };\n\n  function formatTimestamp(timestamp) {\n    const date = new Date(timestamp);\n    const options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    };\n    return date.toLocaleString('zh-CN', options);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u4EFB\\u52A1\\u5217\\u8868\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: buttonStyle,\n        onClick: handleOpenModal,\n        children: \"\\u53D1\\u5E03\\u4EFB\\u52A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isModalOpen,\n        onRequestClose: handleCloseModal,\n        ariaHideApp: false,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u53D1\\u5E03\\u4EFB\\u52A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleTaskSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u4EFB\\u52A1\\u540D\\u79F0:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: taskName,\n              onChange: e => setTaskName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"\\u4EFB\\u52A1\\u5956\\u52B1:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: taskReward,\n              onChange: e => setTaskReward(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"\\u63D0\\u4EA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCloseModal,\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        border: \"1\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u7F16\\u53F7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u540D\\u79F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5956\\u91D1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u53D1\\u5E03\\u8005\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u6267\\u884C\\u8005\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u53D1\\u5E03\\u65F6\\u95F4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u6267\\u884C\\u8BC4\\u4EF7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u72B6\\u6001\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u64CD\\u4F5C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.reward.toString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.issuer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.hunter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.timestamp.toString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: task.comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: getStatus(task.status.toString())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                style: buttonStatusStyle,\n                onClick: () => {\n                  setSelectedTask(task.id);\n                  handleOpenStatusModal();\n                },\n                children: \"\\u4FEE\\u6539\\u72B6\\u6001\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 13\n            }, this)]\n          }, task.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 11\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 5\n      }, this), isStatusModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: isStatusModalOpen,\n          onRequestClose: setIsStatusModalOpen,\n          ariaHideApp: false,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u4FEE\\u6539\\u4EFB\\u52A1\\u72B6\\u6001\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleUpdateStatus,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u65B0\\u72B6\\u6001\\uFF1A\", /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newStatus,\n                onChange: e => setNewStatus(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"\\u63A5\\u53D7\\u4EFB\\u52A1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2\",\n                  children: \"\\u63D0\\u4EA4\\u4EFB\\u52A1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3\",\n                  children: \"\\u786E\\u8BA4\\u4EFB\\u52A1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4\",\n                  children: \"\\u9000\\u56DE\\u4EFB\\u52A1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u4EFB\\u52A1\\u8BC4\\u4EF7:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: comment,\n                onChange: e => setComment(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"\\u63D0\\u4EA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCloseStatusModal,\n              children: \"\\u53D6\\u6D88\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevious,\n        children: \"\\u4E0A\\u4E00\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        children: \"\\u4E0B\\u4E00\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 483,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskList, \"GSQOX91FP5Wn3W4iKSWxGWkQR2s=\");\n_c = TaskList;\nexport default TaskList;\nvar _c;\n$RefreshReg$(_c, \"TaskList\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Web3","jsxDEV","_jsxDEV","TaskList","_s","tasks","setTasks","selectedTask","setSelectedTask","newStatus","setNewStatus","comment","setComment","currentPage","setcurrentPage","isModalOpen","setIsModalOpen","isStatusModalOpen","setIsStatusModalOpen","taskName","setTaskName","taskReward","setTaskReward","connectToMetamask","window","ethereum","enable","provider","console","log","handleOpenModal","handleCloseModal","handleOpenStatusModal","handleCloseStatusModal","handlePrevious","handleNext","contractAddress","contractAbi","handleTaskSubmit","e","preventDefault","account","eth","getAccounts","accountAddress","contract","Contract","methods","issue","send","from","loadTasks","error","getStatus","s","taskss","getAllTasks","call","i","length","task","current","id","issuer","hunter","worker","reward","bonus","name","desc","status","timestamp","formatTimestamp","Number","toString","push","handleUpdateStatus","take","commit","confirm","buttonStyle","backgroundColor","color","padding","border","fontSize","cursor","buttonStatusStyle","date","Date","options","year","month","day","hour","minute","second","toLocaleString","children","fileName","_jsxFileName","lineNumber","columnNumber","style","onClick","isOpen","onRequestClose","ariaHideApp","onSubmit","type","value","onChange","target","map","_c","$RefreshReg$"],"sources":["/Users/yk/movedev/movedemo/bountytask/bounty-task-app/src/TaskList.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-modal';\r\nimport Web3 from 'web3';\r\n\r\nconst TaskList = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [newStatus, setNewStatus] = useState('');\r\n  const [comment, setComment] = useState('');\r\n  let [currentPage, setcurrentPage] = useState('1');\r\n  \r\n  // 发布任务 弹出框\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isStatusModalOpen, setIsStatusModalOpen] = useState(false);\r\n  const [taskName, setTaskName] = useState('');\r\n  const [taskReward, setTaskReward] = useState('');\r\n\r\n  // Connect to Metamask\r\nasync function connectToMetamask() {\r\n  if (window.ethereum) {\r\n    await window.ethereum.enable();\r\n    const provider = new Web3(window.ethereum);\r\n    //const provider = await detectEthereumProvider();\r\n    return provider;\r\n  } else {\r\n    console.log('Please install Metamask');\r\n  }\r\n}\r\n\r\n  const handleOpenModal = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const handleOpenStatusModal = () => {\r\n    setIsStatusModalOpen(true);\r\n  };\r\n\r\n  const handleCloseStatusModal = () => {\r\n    setIsStatusModalOpen(false);\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if(currentPage > 1) {\r\n      currentPage = currentPage - 1;\r\n    }\r\n    setcurrentPage(currentPage);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    currentPage = currentPage + 1;\r\n    setcurrentPage(currentPage);\r\n  };\r\n\r\n  const contractAddress = '0xE51Bd74150E43E390b24D9d461B7b6c0d3707701';\r\n  const contractAbi = [\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"commit\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"_comment\",\r\n          \"type\": \"string\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"_status\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"name\": \"confirm\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"_desc\",\r\n          \"type\": \"string\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_bonus\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"issue\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"register\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"take\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_token\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"constructor\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_issuer\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_bonus\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"string\",\r\n          \"name\": \"_desc\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"name\": \"TaskIssue\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"getAllTasks\",\r\n      \"outputs\": [\r\n        {\r\n          \"components\": [\r\n            {\r\n              \"internalType\": \"address\",\r\n              \"name\": \"issuer\",\r\n              \"type\": \"address\"\r\n            },\r\n            {\r\n              \"internalType\": \"address\",\r\n              \"name\": \"worker\",\r\n              \"type\": \"address\"\r\n            },\r\n            {\r\n              \"internalType\": \"string\",\r\n              \"name\": \"desc\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint256\",\r\n              \"name\": \"bonus\",\r\n              \"type\": \"uint256\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint8\",\r\n              \"name\": \"status\",\r\n              \"type\": \"uint8\"\r\n            },\r\n            {\r\n              \"internalType\": \"string\",\r\n              \"name\": \"comment\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint256\",\r\n              \"name\": \"timestamp\",\r\n              \"type\": \"uint256\"\r\n            }\r\n          ],\r\n          \"internalType\": \"struct TaskInfo[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"tuple[]\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"getOneTask\",\r\n      \"outputs\": [\r\n        {\r\n          \"components\": [\r\n            {\r\n              \"internalType\": \"address\",\r\n              \"name\": \"issuer\",\r\n              \"type\": \"address\"\r\n            },\r\n            {\r\n              \"internalType\": \"address\",\r\n              \"name\": \"worker\",\r\n              \"type\": \"address\"\r\n            },\r\n            {\r\n              \"internalType\": \"string\",\r\n              \"name\": \"desc\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint256\",\r\n              \"name\": \"bonus\",\r\n              \"type\": \"uint256\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint8\",\r\n              \"name\": \"status\",\r\n              \"type\": \"uint8\"\r\n            },\r\n            {\r\n              \"internalType\": \"string\",\r\n              \"name\": \"comment\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint256\",\r\n              \"name\": \"timestamp\",\r\n              \"type\": \"uint256\"\r\n            }\r\n          ],\r\n          \"internalType\": \"struct TaskInfo\",\r\n          \"name\": \"\",\r\n          \"type\": \"tuple\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_page\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"getTasksByPage\",\r\n      \"outputs\": [\r\n        {\r\n          \"components\": [\r\n            {\r\n              \"internalType\": \"address\",\r\n              \"name\": \"issuer\",\r\n              \"type\": \"address\"\r\n            },\r\n            {\r\n              \"internalType\": \"address\",\r\n              \"name\": \"worker\",\r\n              \"type\": \"address\"\r\n            },\r\n            {\r\n              \"internalType\": \"string\",\r\n              \"name\": \"desc\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint256\",\r\n              \"name\": \"bonus\",\r\n              \"type\": \"uint256\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint8\",\r\n              \"name\": \"status\",\r\n              \"type\": \"uint8\"\r\n            },\r\n            {\r\n              \"internalType\": \"string\",\r\n              \"name\": \"comment\",\r\n              \"type\": \"string\"\r\n            },\r\n            {\r\n              \"internalType\": \"uint256\",\r\n              \"name\": \"timestamp\",\r\n              \"type\": \"uint256\"\r\n            }\r\n          ],\r\n          \"internalType\": \"struct TaskInfo[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"tuple[]\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"token\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    }\r\n  ]; \r\n\r\n  const handleTaskSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // 处理任务提交逻辑\r\n    try {\r\n      // Connect to Metamask\r\n      const provider = await connectToMetamask();\r\n      const account = await provider.eth.getAccounts();\r\n      const accountAddress = account[0];\r\n      console.log(accountAddress);\r\n      // Create a contract instance\r\n      const contract = new provider.eth.Contract(contractAbi, contractAddress);\r\n      \r\n      console.log(\"name:\", taskName, \",bonus:\", taskReward);\r\n\r\n      // Call the \"setGreeting\" function in the contract\r\n      await contract.methods.issue(taskName, taskReward).send({ from: accountAddress});\r\n      //tx.wait();\r\n      // 刷新任务列表\r\n      loadTasks();\r\n      // 关闭弹出框\r\n      //setSelectedTask(null);\r\n      //setNewStatus('');\r\n    } catch (error) {\r\n      console.error('Failed to update status:', error);\r\n    }\r\n    // 关闭弹出框\r\n    handleCloseModal();\r\n    setTaskName(\"\")\r\n    setTaskReward(\"\")\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTasks();\r\n  }, );\r\n  \r\n  const getStatus = (s) => {\r\n    if(s === \"0\") {\r\n      return \"已发布\";\r\n    } else if (s === \"1\") {\r\n      return \"已接受\";\r\n    } else if (s === \"2\") {\r\n      return \"已提交\";\r\n\r\n    } else if (s === \"3\") {\r\n      return \"已完成\";\r\n    }\r\n    return \"未知状态\";\r\n  }\r\n\r\n   const loadTasks = async () => {\r\n    // Connect to Metamask\r\n    const provider = await connectToMetamask();\r\n    //const account = await provider.eth.getAccounts();\r\n    //  const accountAddress = account[0];\r\n      console.log(\"page:\", currentPage);\r\n    // Create a contract instance\r\n    const contract = new provider.eth.Contract(contractAbi, contractAddress);\r\n    // 获取任务数量\r\n    const taskss = await contract.methods.getAllTasks().call();\r\n\r\n    // 获取每个任务的详细信息\r\n    const tasks = [];\r\n\r\n    for (let i = 0; i < taskss.length; i++) {\r\n      let task = {};\r\n      const current = taskss[i];\r\n      task.id = i;\r\n      task.issuer = current.issuer;\r\n      task.hunter = current.worker;\r\n      task.reward = current.bonus;\r\n      task.name = current.desc;\r\n      task.status = current.status;\r\n      task.comment = current.comment;\r\n      task.timestamp = formatTimestamp(Number(current.timestamp.toString()) * 1000);\r\n      //console.log(\"task:\", i, task);\r\n      tasks.push(task);\r\n    }\r\n    // 更新任务列表\r\n    setTasks(tasks);\r\n  };\r\n   const handleUpdateStatus = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Connect to Metamask\r\n      const provider = await connectToMetamask();\r\n      const account = await provider.eth.getAccounts();\r\n      const accountAddress = account[0];\r\n      // Create a contract instance\r\n      const contract = new provider.eth.Contract(contractAbi, contractAddress);\r\n      \r\n      console.log(\"get:\", newStatus);\r\n      if (newStatus === \"1\") {\r\n        await contract.methods.take(selectedTask).send({ from: accountAddress });\r\n      } else if (newStatus === \"2\") {\r\n        await contract.methods.commit(selectedTask).send({ from: accountAddress });\r\n      } else if (newStatus === \"3\") {\r\n        await contract.methods.confirm(selectedTask, comment, 3).send({ from: accountAddress });\r\n      } else if (newStatus === \"4\") {\r\n        await contract.methods.confirm(selectedTask, comment, 4).send({ from: accountAddress });\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to update status:', error);\r\n    }\r\n\r\n    handleCloseStatusModal();\r\n  };\r\n\r\n  const buttonStyle = {\r\n    backgroundColor: 'blue', // 设置背景颜色\r\n    color: 'white', // 设置文字颜色\r\n    padding: '10px 20px', // 设置内边距\r\n    border: 'none', // 移除边框\r\n    fontSize: '16px', // 设置文字大小\r\n    cursor: 'pointer', // 设置鼠标样式为手型\r\n  };\r\n\r\n  const buttonStatusStyle = {\r\n    backgroundColor: 'orange', // 设置背景颜色\r\n    color: 'white', // 设置文字颜色\r\n    padding: '10px 20px', // 设置内边距\r\n    border: 'none', // 移除边框\r\n    fontSize: '16px', // 设置文字大小\r\n    cursor: 'pointer', // 设置鼠标样式为手型\r\n  };\r\n\r\n\r\n  function formatTimestamp(timestamp) {\r\n\r\n    const date = new Date(timestamp);\r\n    const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' };\r\n    return date.toLocaleString('zh-CN', options);\r\n\r\n    \r\n  }\r\n   return (\r\n    <div>\r\n      <div>\r\n    <h1>任务列表</h1>\r\n    <button style={buttonStyle} onClick={handleOpenModal}>发布任务</button>\r\n    <Modal isOpen={isModalOpen} onRequestClose={handleCloseModal} ariaHideApp={false}>\r\n     <h2>发布任务</h2>\r\n     <form onSubmit={handleTaskSubmit}>\r\n       <label>\r\n         任务名称:\r\n         <input type=\"text\" value={taskName} onChange={(e) => setTaskName(e.target.value)} />\r\n       </label>\r\n       <label>\r\n         任务奖励:\r\n         <input type=\"text\" value={taskReward} onChange={(e) => setTaskReward(e.target.value)} />\r\n       </label>\r\n       <button type=\"submit\">提交</button>\r\n       <button onClick={handleCloseModal}>取消</button>\r\n     </form>\r\n   </Modal>\r\n    <table border=\"1\">\r\n      <thead>\r\n        <tr>\r\n          <th>编号</th>\r\n          <th>名称</th>\r\n          <th>奖金</th>\r\n          <th>发布者</th>\r\n          <th>执行者</th>\r\n          <th>发布时间</th>\r\n          <th>执行评价</th>\r\n          <th>状态</th>\r\n          <th>操作</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {tasks.map((task) => (\r\n          <tr key={task.id}>\r\n            <td>{task.id}</td>\r\n            <td>{task.name}</td>\r\n            <td>{task.reward.toString()}</td>\r\n            <td>{task.issuer}</td>\r\n            <td>{task.hunter}</td>\r\n            <td>{task.timestamp.toString()}</td>\r\n            <td>{task.comment}</td>\r\n            <td>{getStatus(task.status.toString())}</td>\r\n            <td>\r\n              <button style={buttonStatusStyle} onClick={() => {setSelectedTask(task.id);handleOpenStatusModal();}}>修改状态</button>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n    {isStatusModalOpen && (\r\n      <div>\r\n        <Modal isOpen={isStatusModalOpen} onRequestClose={setIsStatusModalOpen} ariaHideApp={false}>\r\n          <h2>修改任务状态</h2>\r\n            <form onSubmit={handleUpdateStatus}>\r\n              <label>\r\n                新状态：\r\n                <select value={newStatus} onChange={(e) => setNewStatus(e.target.value)} >\r\n                  <option value=\"1\">接受任务</option>\r\n                  <option value=\"2\">提交任务</option>\r\n                  <option value=\"3\">确认任务</option>\r\n                  <option value=\"4\">退回任务</option>\r\n                </select>\r\n              </label>\r\n              <label>\r\n                任务评价:\r\n                <input type=\"text\" value={comment} onChange={(e) => setComment(e.target.value)} />\r\n              </label>\r\n              <button type=\"submit\">提交</button>\r\n              <button onClick={handleCloseStatusModal}>取消</button>\r\n            </form>\r\n        </Modal>\r\n        \r\n      </div>\r\n    )}\r\n    </div>\r\n      <div>\r\n        <button onClick={handlePrevious}>上一页</button>\r\n        <button onClick={handleNext}>下一页</button>\r\n      </div>\r\n    </div>\r\n    \r\n  );\r\n\r\n};\r\n export default TaskList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}